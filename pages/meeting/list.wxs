/**
 * 会议列表页面 WXS 工具函数
 * WXS 是微信小程序的模板脚本，用于在WXML中进行数据处理
 */

/**
 * 格式化完整时间
 * 输入: 2025-11-07 16:24:36.872975
 * 输出: 2025-11-07 16:24:36
 */
var formatFullTime = function(dateStr) {
  if (!dateStr) return ''
  
  // 移除毫秒部分
  var str = dateStr.toString().split('.')[0]
  
  // 替换 T 为空格（如果是ISO格式）
  str = str.replace('T', ' ')
  
  return str
}

/**
 * 格式化时长
 * 输入: 秒数
 * 输出: 48m 1s 或 1h 20m 30s
 */
var formatDuration = function(seconds) {
  if (!seconds || seconds === 0) return ''
  
  var minutes = Math.floor(seconds / 60)
  var secs = seconds % 60
  
  if (minutes >= 60) {
    var hours = Math.floor(minutes / 60)
    var mins = minutes % 60
    if (mins > 0) {
      return hours + 'h ' + mins + 'm ' + secs + 's'
    }
    return hours + 'h ' + secs + 's'
  }
  
  return minutes + 'm ' + secs + 's'
}

/**
 * 导出函数
 */
module.exports = {
  formatFullTime: formatFullTime,
  formatDuration: formatDuration
}

