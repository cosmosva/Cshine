# çœŸæœºæµ‹è¯•é…ç½®æŒ‡å—

## ğŸ“± é—®é¢˜è¯´æ˜

çœŸæœºæµ‹è¯•æ—¶æ— æ³•è®¿é—® `localhost`ï¼Œéœ€è¦ä½¿ç”¨**å±€åŸŸç½‘IPåœ°å€**ã€‚

## âœ… å·²å®Œæˆé…ç½®

### 1. æ›´æ–° API åœ°å€
**æ–‡ä»¶**: `utils/config.js`

```javascript
const API_BASE_URL = 'http://172.20.10.52:8000'  // âœ… å·²æ›´æ–°ä¸ºå±€åŸŸç½‘IP
```

### 2. åç«¯é…ç½®
åç«¯å·²ç»ç›‘å¬ `0.0.0.0:8000`ï¼Œæ”¯æŒå±€åŸŸç½‘è®¿é—®ã€‚

## ğŸ”§ å¾®ä¿¡å¼€å‘è€…å·¥å…·é…ç½®

### å¿…é¡»é…ç½®ï¼šä¸æ ¡éªŒåˆæ³•åŸŸå

1. **æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…·**
2. **ç‚¹å‡»å³ä¸Šè§’ã€Œè¯¦æƒ…ã€æŒ‰é’®**
3. **é€‰æ‹©ã€Œæœ¬åœ°è®¾ç½®ã€æ ‡ç­¾**
4. **å‹¾é€‰ä»¥ä¸‹é€‰é¡¹**ï¼š
   - âœ… ä¸æ ¡éªŒåˆæ³•åŸŸåã€web-viewï¼ˆä¸šåŠ¡åŸŸåï¼‰ã€TLS ç‰ˆæœ¬ä»¥åŠ HTTPS è¯ä¹¦
   - âœ… å¼€å¯è°ƒè¯•æ¨¡å¼

![é…ç½®ç¤ºä¾‹](https://developers.weixin.qq.com/miniprogram/dev/devtools/images/devtools2/setting_1.png)

## ğŸ“± çœŸæœºé¢„è§ˆæ­¥éª¤

### æ–¹æ³•1ï¼šæ‰«ç é¢„è§ˆï¼ˆæ¨èï¼‰

1. **ç¡®ä¿æ‰‹æœºå’Œç”µè„‘åœ¨åŒä¸€å±€åŸŸç½‘**
   - è¿æ¥åŒä¸€ä¸ª Wi-Fi ç½‘ç»œ
   - æˆ–è€…ç”µè„‘å¼€çƒ­ç‚¹ï¼Œæ‰‹æœºè¿æ¥

2. **ç‚¹å‡»å·¥å…·æ ã€Œé¢„è§ˆã€æŒ‰é’®**
   - æˆ–è€…ç‚¹å‡»èœå•ï¼š`å·¥å…·` â†’ `é¢„è§ˆ`

3. **ä½¿ç”¨å¾®ä¿¡æ‰«æäºŒç»´ç **
   - åœ¨æ‰‹æœºä¸Šæ‰“å¼€å°ç¨‹åº
   - å¯ä»¥æ­£å¸¸è®¿é—®åç«¯API

### æ–¹æ³•2ï¼šçœŸæœºè°ƒè¯•

1. **ç‚¹å‡»å·¥å…·æ ã€ŒçœŸæœºè°ƒè¯•ã€æŒ‰é’®**
2. **æ‰«æäºŒç»´ç **
3. **æ‰‹æœºä¼šæ˜¾ç¤ºã€ŒçœŸæœºè°ƒè¯•ã€æ¨¡å¼**
4. **å¯ä»¥åœ¨ç”µè„‘ä¸Šçœ‹åˆ°æ‰‹æœºçš„Consoleæ—¥å¿—**

## ğŸŒ ç½‘ç»œè¦æ±‚

### âœ… å¿…é¡»æ»¡è¶³
- æ‰‹æœºå’Œç”µè„‘åœ¨**åŒä¸€å±€åŸŸç½‘**
- åç«¯æœåŠ¡æ­£åœ¨è¿è¡Œ
- é˜²ç«å¢™å…è®¸ 8000 ç«¯å£è®¿é—®

### âŒ å¸¸è§é—®é¢˜

1. **æ‰‹æœºç”¨çš„æ˜¯4G/5Gç½‘ç»œ**
   - è§£å†³ï¼šè¿æ¥åˆ°ä¸ç”µè„‘ç›¸åŒçš„ Wi-Fi

2. **ç”µè„‘é˜²ç«å¢™é˜»æ­¢**
   - Mac: `ç³»ç»Ÿåå¥½è®¾ç½®` â†’ `å®‰å…¨æ€§ä¸éšç§` â†’ `é˜²ç«å¢™` â†’ `é˜²ç«å¢™é€‰é¡¹`
   - å…è®¸ Python æ¥å—ä¼ å…¥è¿æ¥

3. **ç«¯å£è¢«å ç”¨**
   - è§£å†³ï¼šæ›´æ¢åç«¯ç«¯å£æˆ–å…³é—­å ç”¨ç«¯å£çš„ç¨‹åº

## ğŸ§ª æµ‹è¯•è¿é€šæ€§

### åœ¨æ‰‹æœºæµè§ˆå™¨æµ‹è¯•

1. **åœ¨æ‰‹æœºä¸Šæ‰“å¼€æµè§ˆå™¨**ï¼ˆSafari/Chromeï¼‰
2. **è®¿é—®**: `http://172.20.10.52:8000/health`
3. **åº”è¯¥çœ‹åˆ°**: `{"status":"healthy"}`

å¦‚æœèƒ½çœ‹åˆ°è¿™ä¸ªå“åº”ï¼Œè¯´æ˜ç½‘ç»œè¿é€šæ€§æ­£å¸¸ã€‚

## ğŸ” è°ƒè¯•æŠ€å·§

### æŸ¥çœ‹çœŸæœºConsoleæ—¥å¿—

1. **ä½¿ç”¨ã€ŒçœŸæœºè°ƒè¯•ã€æ¨¡å¼**
2. **åœ¨ç”µè„‘çš„å¼€å‘è€…å·¥å…·ä¸­æŸ¥çœ‹Console**
3. **å¯ä»¥çœ‹åˆ°æ‰€æœ‰APIè¯·æ±‚å’Œé”™è¯¯ä¿¡æ¯**

### æŸ¥çœ‹Networkè¯·æ±‚

1. **çœŸæœºè°ƒè¯•æ¨¡å¼ä¸‹**
2. **ç‚¹å‡»ã€ŒNetworkã€æ ‡ç­¾**
3. **æŸ¥çœ‹æ¯ä¸ªè¯·æ±‚çš„è¯¦ç»†ä¿¡æ¯**
4. **æ£€æŸ¥è¯·æ±‚URLæ˜¯å¦æ­£ç¡®**

## ğŸ’¡ åˆ‡æ¢å¼€å‘ç¯å¢ƒ

### æ¨¡æ‹Ÿå™¨å¼€å‘ï¼ˆä½¿ç”¨localhostï¼‰

```javascript
// utils/config.js
// const API_BASE_URL = 'http://172.20.10.52:8000'  // çœŸæœºæµ‹è¯•
const API_BASE_URL = 'http://localhost:8000'  // æ¨¡æ‹Ÿå™¨ç”¨
```

### çœŸæœºæµ‹è¯•ï¼ˆä½¿ç”¨å±€åŸŸç½‘IPï¼‰

```javascript
// utils/config.js
const API_BASE_URL = 'http://172.20.10.52:8000'  // çœŸæœºæµ‹è¯•
// const API_BASE_URL = 'http://localhost:8000'  // æ¨¡æ‹Ÿå™¨ç”¨
```

## ğŸš€ å¿«é€Ÿåˆ‡æ¢è„šæœ¬

åˆ›å»ºé…ç½®åˆ‡æ¢è„šæœ¬ï¼ˆå¯é€‰ï¼‰ï¼š

```bash
# åˆ‡æ¢åˆ°çœŸæœºæ¨¡å¼
echo "const API_BASE_URL = 'http://172.20.10.52:8000'" > utils/config_temp.js

# åˆ‡æ¢åˆ°æ¨¡æ‹Ÿå™¨æ¨¡å¼  
echo "const API_BASE_URL = 'http://localhost:8000'" > utils/config_temp.js
```

## ğŸ“ é‡åˆ°é—®é¢˜ï¼Ÿ

### æ£€æŸ¥æ¸…å•

- [ ] æ‰‹æœºå’Œç”µè„‘åœ¨åŒä¸€ Wi-Fi
- [ ] åç«¯æœåŠ¡æ­£åœ¨è¿è¡Œ (`curl http://172.20.10.52:8000/health`)
- [ ] å¾®ä¿¡å¼€å‘è€…å·¥å…·å·²å‹¾é€‰ã€Œä¸æ ¡éªŒåˆæ³•åŸŸåã€
- [ ] æ‰‹æœºæµè§ˆå™¨èƒ½è®¿é—® `http://172.20.10.52:8000/health`
- [ ] é˜²ç«å¢™å…è®¸ 8000 ç«¯å£

### å¸¸ç”¨å‘½ä»¤

```bash
# æ£€æŸ¥åç«¯æ˜¯å¦è¿è¡Œ
curl http://172.20.10.52:8000/health

# æŸ¥çœ‹åç«¯æ—¥å¿—
cd backend
tail -f backend_output.log

# é‡å¯åç«¯
pkill -f "uvicorn main:app"
python -m uvicorn main:app --host 0.0.0.0 --port 8000 --reload
```

---

**å½“å‰é…ç½®**: âœ… å·²é…ç½®ä¸ºçœŸæœºæµ‹è¯•æ¨¡å¼ï¼ˆ172.20.10.52:8000ï¼‰

